{% extends "base/base.html" %}

{% block title %}ZyRace — Download | Get the Free Car Racing App{% endblock %}

{% block extra_css %}
<style>
  .hero {
    min-height: 50vh;
    display: flex;
    align-items: center;
  }

  .download-grid {
    gap: 3rem;
    margin-top: 2rem;
  }

  .download-card {
    background: var(--white);
    border-radius: 20px;
    padding: 3rem 2rem;
    text-align: center;
    box-shadow: var(--light-shadow);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    border: 2px solid transparent;
    position: relative;
    overflow: hidden;
    flex: 1;
    min-width: 300px;
    max-width: 450px;
  }

  .highlight-card {
    border-color: var(--primary);
    box-shadow: 0 10px 30px rgba(255, 140, 0, 0.2);
    transform: scale(1.05);
    z-index: 10;
  }

  .popular-badge {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    background: var(--primary);
    color: white;
    padding: 0.5rem 1.5rem;
    font-weight: 800;
    font-size: 0.8rem;
    border-radius: 0 0 10px 10px;
    letter-spacing: 1px;
    box-shadow: 0 5px 15px rgba(255, 140, 0, 0.3);
  }

  .platform-icon {
    font-size: 5rem;
    background: linear-gradient(135deg, var(--primary), var(--yellow));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 1.5rem;
  }


  .download-card h3 {
    color: var(--dark-text);
    margin-bottom: 0.5rem;
    font-family: 'Orbitron', sans-serif;
    font-size: 1.8rem;
  }

  .version-info {
    color: var(--light-text);
    font-size: 0.95rem;
    margin-bottom: 2rem;
    font-weight: 500;
  }

  .download-list {
    list-style: none;
    padding: 0;
    margin: 0 auto 2.5rem;
    text-align: left;
    max-width: 280px;
  }

  .download-list li {
    padding: 0.8rem 0;
    color: var(--dark-text);
    display: flex;
    align-items: center;
    gap: 15px;
  }

  .download-list i {
    color: var(--green);
    font-size: 1.1rem;
    background: rgba(40, 167, 69, 0.1);
    padding: 8px;
    border-radius: 50%;
  }

  .download-btn {
    position: relative;
    overflow: hidden;
    width: 100%;
    padding: 1.2rem;
    font-family: 'Orbitron', sans-serif;
    font-size: 1.1rem;
    letter-spacing: 1px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 5px 15px rgba(255, 140, 0, 0.4);
  }

  .btn-content {
    position: relative;
    z-index: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    line-height: 1.2;
  }

  .file-size {
    font-size: 0.7rem;
    opacity: 0.8;
    font-family: var(--font-main);
    margin-top: 2px;
  }

  /* Shimmer Animation */
  .shimmer {
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(120deg,
        transparent,
        rgba(255, 255, 255, 0.4),
        transparent);
    transform: skewX(-20deg);
    animation: shimmer 3s infinite;
  }

  @keyframes shimmer {
    0% {
      left: -100%;
    }

    20% {
      left: 200%;
    }

    100% {
      left: 200%;
    }
  }

  .animated-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(255, 140, 0, 0.5);
  }

  .security-badge {
    text-align: center;
    margin-top: 4rem;
    color: var(--primary);
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10rem;
    opacity: 0.8;
  }
</style>
{% endblock %}

{% block content %}
<section class="hero visible" id="hero">
  <div class="container">
    <div class="logo-container">
      <h1 class="logo">Get <span style="color:var(--yellow);">ZyRace</span></h1>
    </div>
    <p class="tagline">Experience lag-free physics racing directly on your Android device.</p>
  </div>
</section>

<section class="section-container visible" id="downloads">
  <div class="container">
    <h2 class="section-title" style="margin-bottom: 2rem;">Choose Your Platform</h2>
    <div class="download-grid" style="justify-content: center; display: flex; flex-wrap: wrap;">

      <!-- Android Card (Main Focus) -->
      <div class="download-card highlight-card">
        <div class="popular-badge">MOST POPULAR</div>
        <i class="fab fa-android platform-icon"></i>
        <h3>Android APK</h3>
        <div class="version-info">Latest Version • Optimized Performance</div>

        <ul class="download-list">
          <li><i class="fas fa-tachometer-alt"></i> Native 60 FPS Support</li>
          <li><i class="fas fa-wifi"></i> 100% Offline Playable</li>
          <li><i class="fas fa-battery-full"></i> Low Battery Consumption</li>
        </ul>

        <a href="{{ url_for('assets.serve_apk') }}" class="btn btn-primary download-btn animated-btn"
          aria-label="Download ZyRace for Android (15 MB)">
          <span class="btn-content">
            <i class="fas fa-download"></i> DOWNLOAD NOW
            <span class="file-size">(15 MB)</span>
          </span>
          <div class="shimmer"></div>
        </a>
        <p style="margin-top: 1rem; font-size: 0.8rem; color: var(--light-text);">Compatible with Android 8.0+</p>
      </div>

      <!-- Other Platforms -->
      <div class="download-card" style="opacity: 0.7; transform: scale(0.95);">
        <i class="fab fa-windows platform-icon" style="color: var(--light-text);"></i>
        <h3 style="color: var(--light-text);">Windows / iOS</h3>
        <div class="version-info">Coming Soon</div>
        <p style="margin-bottom: 2rem; color: var(--light-text);">We are working hard to bring ZyRace to more platforms.
          Stay tuned!</p>
        <button class="btn btn-secondary" disabled style="cursor: not-allowed; opacity: 0.6;"
          aria-label="Windows and iOS versions are currently in development">
          IN DEVELOPMENT
        </button>
      </div>

    </div>

    <div class="security-badge">
      <i class="fas fa-shield-check"></i>
      <span>Verified Safe & Secure Download</span>
    </div>
  </div>
</section>

{% block schemas %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "ZyRace",
  "operatingSystem": "Android",
  "applicationCategory": "GameApplication",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "fileSize": "15 MB",
  "softwareVersion": "2.1.0",
  "author": {
    "@type": "Person",
    "name": "Ajmal U K"
  },
  "description": "ZyRace is a free physics-based racing game for Android. Play offline without lag.",
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.8",
    "ratingCount": "1250"
  },
  "downloadUrl": "https://zyrace.com/assets/app.apk"
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
    "@type": "ListItem",
    "position": 1,
    "name": "Home",
    "item": "https://zyrace.com/"
  },{
    "@type": "ListItem",
    "position": 2,
    "name": "Download",
    "item": "https://zyrace.com/download"
  }]
}
</script>
{% endblock %}

{% endblock %}

{% block scripts %}
<script>
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.1 });
  document.querySelectorAll('section').forEach(section => observer.observe(section));
</script>
{% endblock %}